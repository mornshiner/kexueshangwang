######### é”šç‚¹ start #######
# ç­–ç•¥ç»„ç›¸å…³
#pr: &pr {type: select, proxies: [è‡ªå®šä¹‰æ·»åŠ ï¼Œæ„æ€ä¸å¤§]}
#è¿™é‡Œæ˜¯è®¢é˜…æ›´æ–°å’Œå»¶è¿Ÿæµ‹è¯•ç›¸å…³çš„
p: &p {type: http, interval: 3600, health-check: {enable: true, url: "https://www.gstatic.com/generate_204", interval: 300}}
######### é”šç‚¹ end #######
##è‡ªå®šä¹‰çš„ä»£ç†èŠ‚ç‚¹(å‡ºç«™ä»£ç†)
proxies:
- name: JP_BWG_Hy2
  type: hysteria2
  server: 
  port: 
  password: 
  alpn:
  - h3
  protocol: udp
  up: 60 Mbps
  down: 500 Mbps
  sni: 
  skip-cert-verify: false
##é€šè¿‡è®¢é˜…è·å–çš„èŠ‚ç‚¹é›†åˆ(ä»£ç†é›†åˆ)
# url é‡Œå¡«å†™è‡ªå·±çš„è®¢é˜…,åç§°ä¸èƒ½é‡å¤
proxy-providers:
  cherry:
    <<: *p
    url: ""
##ä¸ºä¸åŒåˆ†æµç­–ç•¥å®šä¹‰ç›¸åº”çš„ä»£ç†èŠ‚ç‚¹ç»„ï¼ˆä»£ç†ç»„ï¼‰
##&ç”¨æ¥å®šä¹‰é”šç‚¹ï¼Œ *ç”¨æ¥å¼•ç”¨ï¼Œæ¯”å¦‚ä¸‹é¢çš„&prå’Œ*prï¼Œè·Ÿå®çš„ä½œç”¨å·®ä¸å¤š
##<<è¡¨ç¤ºåˆå¹¶åˆ°å½“å‰æ•°æ®
##use:å¼•å…¥ä»£ç†é›†åˆ
##include-all:å¼•å…¥æ‰€æœ‰å‡ºç«™ä»£ç†ä»¥åŠä»£ç†é›†åˆï¼Œé¡ºåºå°†æŒ‰ç…§åç§°æ’åº
##include-all-proxiesï¼šå¼•å…¥æ‰€æœ‰å‡ºç«™ä»£ç†ï¼Œé¡ºåºå°†æŒ‰ç…§åç§°æ’åº
##include-all-providersï¼šå¼•å…¥æ‰€æœ‰ä»£ç†é›†åˆï¼Œé¡ºåºå°†æŒ‰ç…§åç§°æ’åº
proxy-groups:
#- {name: é»˜è®¤, type: fallback, interval: 300, proxies: [JP_BWG_Hy2, è‡ªåŠ¨é€‰æ‹©]}
- {name: å…¨éƒ¨èŠ‚ç‚¹, type: select, include-all-providers: true}
- {name: è‡ªåŠ¨é€‰æ‹©, type: url-test, include-all-providers: true, tolerance: 10}
- {name: é¦™æ¸¯è‡ªåŠ¨é€‰æ‹©,type: url-test, include-all-providers: true, filter: "(?i)æ¸¯|hk|hongkong|hong kong"}
- {name: å°æ¹¾è‡ªåŠ¨é€‰æ‹©,type: url-test, include-all-providers: true, filter: "(?i)å°|tw|taiwan"}
- {name: æ—¥æœ¬è‡ªåŠ¨é€‰æ‹©,type: url-test, include-all-providers: true, filter: "(?i)æ—¥|jp|japan"}
- {name: ç¾å›½è‡ªåŠ¨é€‰æ‹©,type: url-test, include-all-providers: true, filter: "(?i)ç¾|us|unitedstates|united states"}
- {name: æ–°åŠ å¡è‡ªåŠ¨é€‰æ‹©,type: url-test, include-all-providers: true, filter: "(?i)(æ–°|sg|singapore)"}
- {name: å…¶å®ƒåœ°åŒºè‡ªåŠ¨é€‰æ‹©, type: url-test, include-all-providers: true, filter: "(?i)^(?!.*(?:ğŸ‡­ğŸ‡°|ğŸ‡¯ğŸ‡µ|ğŸ‡ºğŸ‡¸|ğŸ‡¸ğŸ‡¬|ğŸ‡¨ğŸ‡³|æ¸¯|hk|hongkong|å°|tw|taiwan|æ—¥|jp|japan|æ–°|sg|singapore|ç¾|us|unitedstates)).*"}
##è‡ªå®šä¹‰åˆ†æµè§„åˆ™
rules:
##- RULE-SET,UnBan,DIRECT
##- RULE-SET,BanAD,REJECT
##- RULE-SET,BanProgramAD,REJECT
##- DOMAIN,è‡ªå»ºåŸŸå,DIRECT
- DOMAIN-SUFFIX,xn--ngstr-lra8j.com,DIRECT
- GEOSITE,category-ads-all,REJECT
- GEOIP,private,DIRECT,no-resolve
- RULE-SET,OpenAI_domain,æ–°åŠ å¡è‡ªåŠ¨é€‰æ‹©
- RULE-SET,ChinaMedia,DIRECT
- RULE-SET,cn_domain,DIRECT
- RULE-SET,cn_ip,DIRECT,no-resolve
##- GEOIP,CN,DIRECT,no-resolve
- MATCH,é¦™æ¸¯è‡ªåŠ¨é€‰æ‹©
rule-anchor:
  ip: &ip {type: http, interval: 86400, behavior: ipcidr, format: text}
  domain: &domain {type: http, interval: 86400, behavior: domain, format: text}
rule-providers:
  private:
    <<: *domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.list"
  ChinaMedia:
    <<: *domain
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaMedia.list"  
  cn_domain:
    <<: *domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.list"
  OpenAI_domain:
    <<: *domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/openai.list"
  geolocation-!cn:
    <<: *domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.list"
  cn_ip:
    <<: *ip
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.list"
